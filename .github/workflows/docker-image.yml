name: Docker Image CI

on:
  push:
    branches: [ master ]
  pull_request:
    branches: [ master ]

jobs:

  build:
    runs-on: ubuntu-latest

    steps:
    - name: DockerHub Build And Push
      # You may pin to the exact commit or the version.
      uses: Abhishek-070/Dockerhub-Build-Push@1240d89ce6f82ba5911cfbbd01f4d67229c11f69
      # uses: Abhishek-070/Dockerhub-Build-Push@v1.0
      with:
        registry_url: 'docker.io'
        repository_name: 'debian-android-sdk-ndk'
        user_name: ${{ secrets.DOCKERHUB_USERNAME }}
        password: ${{ secrets.DOCKERHUB_TOKEN }}
        # version is all major: debian.sdk.ndk
        image_version: 'sdk29-ndk22.1'
        docker_file: '.'
